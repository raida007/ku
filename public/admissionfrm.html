<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admission Form - Khulna University</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="white" opacity="0.1"/><circle cx="80" cy="30" r="1.5" fill="white" opacity="0.1"/><circle cx="60" cy="70" r="1" fill="white" opacity="0.1"/><circle cx="30" cy="80" r="1.5" fill="white" opacity="0.1"/></svg>') repeat;
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .form-container {
            padding: 40px;
        }

        .form-section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title::before {
            content: '';
            width: 4px;
            height: 25px;
            background: #3498db;
            border-radius: 2px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .required {
            color: #e74c3c;
            font-size: 0.9rem;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        input[type="number"],
        select,
        textarea {
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="tel"]:focus,
        input[type="date"]:focus,
        input[type="number"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #3498db;
            background: white;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #3498db;
        }

        .submit-section {
            text-align: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid #ecf0f1;
        }

        .submit-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 500;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #3498db;
        }

        .loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #3498db;
            border-top: 2px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .back-btn {
            background: #95a5a6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
            transition: background 0.3s;
        }

        .back-btn:hover {
            background: #7f8c8d;
        }

        .download-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 10px;
            transition: background 0.3s;
            display: none;
        }

        .download-btn:hover {
            background: #219a52;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .form-container {
                padding: 20px;
            }

            .form-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .submit-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéì Admission Form</h1>
            <p>Khulna University - Academic Year 2025-2026</p>
        </div>

        <div class="form-container">
            <div id="alert-container"></div>
            <div id="loading" class="loading">
                Submitting your application...
            </div>

            <form id="admissionForm">
                <!-- Personal Information Section -->
                <div class="form-section">
                    <h2 class="section-title">Personal Information</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="fullName">Full Name <span class="required">*</span></label>
                            <input type="text" id="fullName" name="fullName" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address <span class="required">*</span></label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number <span class="required">*</span></label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="gender">Gender <span class="required">*</span></label>
                            <select id="gender" name="gender" required>
                                <option value="">Select Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="nationality">Nationality <span class="required">*</span></label>
                            <input type="text" id="nationality" name="nationality" value="Bangladeshi" required>
                        </div>
                        <div class="form-group">
                            <label for="religion">Religion</label>
                            <select id="religion" name="religion">
                                <option value="">Select Religion</option>
                                <option value="islam">Islam</option>
                                <option value="hinduism">Hinduism</option>
                                <option value="christianity">Christianity</option>
                                <option value="buddhism">Buddhism</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="bloodGroup">Blood Group</label>
                            <select id="bloodGroup" name="bloodGroup">
                                <option value="">Select Blood Group</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <label for="address">Present Address <span class="required">*</span></label>
                            <textarea id="address" name="address" placeholder="Enter your complete address" required></textarea>
                        </div>
                    </div>
                </div>

                <!-- Academic Information Section -->
                <div class="form-section">
                    <h2 class="section-title">Academic Information</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="desiredProgram">Desired Program <span class="required">*</span></label>
                            <select id="desiredProgram" name="desiredProgram" required>
                                <option value="">Select Program</option>
                                <option value="cse">Computer Science & Engineering</option>
                                <option value="eee">Electrical & Electronic Engineering</option>
                                <option value="ce">Civil Engineering</option>
                                <option value="me">Mechanical Engineering</option>
                                <option value="bba">Business Administration</option>
                                <option value="economics">Economics</option>
                                <option value="english">English</option>
                                <option value="mathematics">Mathematics</option>
                                <option value="physics">Physics</option>
                                <option value="chemistry">Chemistry</option>
                                <option value="biology">Biology</option>
                                <option value="law">Law</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="admissionSession">Admission Session <span class="required">*</span></label>
                            <select id="admissionSession" name="admissionSession" required>
                                <option value="">Select Session</option>
                                <option value="2025-2026">2025-2026</option>
                                <option value="2024-2025">2024-2025</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="sscBoard">SSC Board <span class="required">*</span></label>
                            <select id="sscBoard" name="sscBoard" required>
                                <option value="">Select Board</option>
                                <option value="dhaka">Dhaka</option>
                                <option value="chittagong">Chittagong</option>
                                <option value="rajshahi">Rajshahi</option>
                                <option value="sylhet">Sylhet</option>
                                <option value="barisal">Barisal</option>
                                <option value="khulna">Khulna</option>
                                <option value="rangpur">Rangpur</option>
                                <option value="mymensingh">Mymensingh</option>
                                <option value="comilla">Comilla</option>
                                <option value="jessore">Jessore</option>
                                <option value="dinajpur">Dinajpur</option>
                                <option value="madrasah">Madrasah</option>
                                <option value="technical">Technical</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="sscYear">SSC Passing Year <span class="required">*</span></label>
                            <input type="number" id="sscYear" name="sscYear" min="2015" max="2025" required>
                        </div>
                        <div class="form-group">
                            <label for="sscGPA">SSC GPA <span class="required">*</span></label>
                            <input type="number" id="sscGPA" name="sscGPA" min="1.0" max="5.0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="hscBoard">HSC Board <span class="required">*</span></label>
                            <select id="hscBoard" name="hscBoard" required>
                                <option value="">Select Board</option>
                                <option value="dhaka">Dhaka</option>
                                <option value="chittagong">Chittagong</option>
                                <option value="rajshahi">Rajshahi</option>
                                <option value="sylhet">Sylhet</option>
                                <option value="barisal">Barisal</option>
                                <option value="khulna">Khulna</option>
                                <option value="rangpur">Rangpur</option>
                                <option value="mymensingh">Mymensingh</option>
                                <option value="comilla">Comilla</option>
                                <option value="jessore">Jessore</option>
                                <option value="dinajpur">Dinajpur</option>
                                <option value="madrasah">Madrasah</option>
                                <option value="technical">Technical</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="hscYear">HSC Passing Year <span class="required">*</span></label>
                            <input type="number" id="hscYear" name="hscYear" min="2017" max="2025" required>
                        </div>
                        <div class="form-group">
                            <label for="hscGPA">HSC GPA <span class="required">*</span></label>
                            <input type="number" id="hscGPA" name="hscGPA" min="1.0" max="5.0" step="0.01" required>
                        </div>
                    </div>
                </div>

                <!-- Guardian Information Section -->
                <div class="form-section">
                    <h2 class="section-title">Guardian Information</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="fatherName">Father's Name <span class="required">*</span></label>
                            <input type="text" id="fatherName" name="fatherName" required>
                        </div>
                        <div class="form-group">
                            <label for="fatherOccupation">Father's Occupation</label>
                            <input type="text" id="fatherOccupation" name="fatherOccupation">
                        </div>
                        <div class="form-group">
                            <label for="motherName">Mother's Name <span class="required">*</span></label>
                            <input type="text" id="motherName" name="motherName" required>
                        </div>
                        <div class="form-group">
                            <label for="motherOccupation">Mother's Occupation</label>
                            <input type="text" id="motherOccupation" name="motherOccupation">
                        </div>
                        <div class="form-group">
                            <label for="guardianPhone">Guardian's Phone <span class="required">*</span></label>
                            <input type="tel" id="guardianPhone" name="guardianPhone" required>
                        </div>
                        <div class="form-group">
                            <label for="monthlyIncome">Monthly Family Income (BDT)</label>
                            <input type="number" id="monthlyIncome" name="monthlyIncome" min="0">
                        </div>
                    </div>
                </div>

                <!-- Additional Information Section -->
                <div class="form-section">
                    <h2 class="section-title">Additional Information</h2>
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label for="extracurricular">Extracurricular Activities</label>
                            <textarea id="extracurricular" name="extracurricular" placeholder="Describe your extracurricular activities, achievements, etc."></textarea>
                        </div>
                        <div class="form-group full-width">
                            <label for="whyChooseKU">Why do you want to study at Khulna University?</label>
                            <textarea id="whyChooseKU" name="whyChooseKU" placeholder="Tell us why you chose Khulna University"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Declaration Section -->
                <div class="form-section">
                    <h2 class="section-title">Declaration</h2>
                    <div class="checkbox-group">
                        <input type="checkbox" id="declaration" name="declaration" required>
                        <label for="declaration">
                            I hereby declare that all the information provided above is true and correct to the best of my knowledge. I understand that any false information may result in the rejection of my application.
                        </label>
                    </div>
                </div>

                <!-- Submit Section -->
                <div class="submit-section">
                    <button type="button" class="back-btn" onclick="window.history.back()">‚Üê Back</button>
                    <button type="submit" class="submit-btn">Submit Application</button>
                    <button type="button" class="download-btn" id="downloadBtn">üìÑ Download PDF</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        let currentFormData = null;
        let currentApplicationId = null;

        // PDF generation function
        function generatePDF(applicationId, data) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Set font
            doc.setFont('helvetica');
            
            // Header
            doc.setFontSize(20);
            doc.setTextColor(44, 62, 80);
            doc.text('Khulna University', 20, 20);
            doc.setFontSize(16);
            doc.text('Admission Application Form', 20, 30);
            doc.setFontSize(12);
            doc.text('Academic Year 2025-2026', 20, 38);
            
            // Application ID
            doc.setFontSize(14);
            doc.setTextColor(231, 76, 60);
            doc.text(`Application ID: ${applicationId}`, 20, 50);
            
            let yPosition = 65;
            
            // Personal Information
            doc.setFontSize(14);
            doc.setTextColor(44, 62, 80);
            doc.text('Personal Information', 20, yPosition);
            yPosition += 10;
            
            doc.setFontSize(10);
            doc.setTextColor(0, 0, 0);
            
            const personalInfo = [
                ['Full Name:', data.fullName || 'N/A'],
                ['Email:', data.email || 'N/A'],
                ['Phone:', data.phone || 'N/A'],
                ['Gender:', data.gender || 'N/A'],
                ['Nationality:', data.nationality || 'N/A'],
                ['Religion:', data.religion || 'N/A'],
                ['Blood Group:', data.bloodGroup || 'N/A'],
                ['Address:', data.address || 'N/A']
            ];
            
            personalInfo.forEach(([label, value]) => {
                doc.text(label, 20, yPosition);
                doc.text(value, 70, yPosition);
                yPosition += 8;
            });
            
            yPosition += 5;
            
            // Academic Information
            doc.setFontSize(14);
            doc.setTextColor(44, 62, 80);
            doc.text('Academic Information', 20, yPosition);
            yPosition += 10;
            
            doc.setFontSize(10);
            doc.setTextColor(0, 0, 0);
            
            const academicInfo = [
                ['Desired Program:', data.desiredProgram || 'N/A'],
                ['Admission Session:', data.admissionSession || 'N/A'],
                ['SSC Board:', data.sscBoard || 'N/A'],
                ['SSC Year:', data.sscYear || 'N/A'],
                ['SSC GPA:', data.sscGPA || 'N/A'],
                ['HSC Board:', data.hscBoard || 'N/A'],
                ['HSC Year:', data.hscYear || 'N/A'],
                ['HSC GPA:', data.hscGPA || 'N/A']
            ];
            
            academicInfo.forEach(([label, value]) => {
                doc.text(label, 20, yPosition);
                doc.text(value.toString(), 70, yPosition);
                yPosition += 8;
            });
            
            yPosition += 5;
            
            // Guardian Information
            doc.setFontSize(14);
            doc.setTextColor(44, 62, 80);
            doc.text('Guardian Information', 20, yPosition);
            yPosition += 10;
            
            doc.setFontSize(10);
            doc.setTextColor(0, 0, 0);
            
            const guardianInfo = [
                ['Father\'s Name:', data.fatherName || 'N/A'],
                ['Father\'s Occupation:', data.fatherOccupation || 'N/A'],
                ['Mother\'s Name:', data.motherName || 'N/A'],
                ['Mother\'s Occupation:', data.motherOccupation || 'N/A'],
                ['Guardian\'s Phone:', data.guardianPhone || 'N/A'],
                ['Monthly Income:', data.monthlyIncome ? `${data.monthlyIncome} BDT` : 'N/A']
            ];
            
            guardianInfo.forEach(([label, value]) => {
                doc.text(label, 20, yPosition);
                doc.text(value, 70, yPosition);
                yPosition += 8;
            });
            
            // Check if we need a new page
            if (yPosition > 250) {
                doc.addPage();
                yPosition = 20;
            }
            
            yPosition += 5;
            
            // Additional Information
            if (data.extracurricular || data.whyChooseKU) {
                doc.setFontSize(14);
                doc.setTextColor(44, 62, 80);
                doc.text('Additional Information', 20, yPosition);
                yPosition += 10;
                
                doc.setFontSize(10);
                doc.setTextColor(0, 0, 0);
                
                if (data.extracurricular) {
                    doc.text('Extracurricular Activities:', 20, yPosition);
                    yPosition += 6;
                    const extracurricularLines = doc.splitTextToSize(data.extracurricular, 170);
                    doc.text(extracurricularLines, 20, yPosition);
                    yPosition += extracurricularLines.length * 4 + 5;
                }
                
                if (data.whyChooseKU) {
                    doc.text('Why Khulna University:', 20, yPosition);
                    yPosition += 6;
                    const whyKULines = doc.splitTextToSize(data.whyChooseKU, 170);
                    doc.text(whyKULines, 20, yPosition);
                    yPosition += whyKULines.length * 4 + 5;
                }
            }
            
            // Declaration
            yPosition += 10;
            doc.setFontSize(12);
            doc.setTextColor(44, 62, 80);
            doc.text('Declaration', 20, yPosition);
            yPosition += 8;
            
            doc.setFontSize(10);
            doc.setTextColor(0, 0, 0);
            const declarationText = 'I hereby declare that all the information provided above is true and correct to the best of my knowledge.';
            const declarationLines = doc.splitTextToSize(declarationText, 170);
            doc.text(declarationLines, 20, yPosition);
            yPosition += declarationLines.length * 4 + 10;
            
            // Footer
            doc.setFontSize(8);
            doc.setTextColor(128, 128, 128);
            doc.text(`Generated on: ${new Date().toLocaleDateString()}`, 20, 280);
            doc.text('Khulna University Admission Office', 20, 285);
            
            // Save the PDF
            doc.save(`KU_Admission_Application_${applicationId}.pdf`);
        }

        // Form submission handler
        document.getElementById('admissionForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const loading = document.getElementById('loading');
            const alertContainer = document.getElementById('alert-container');
            const submitBtn = document.querySelector('.submit-btn');
            const downloadBtn = document.getElementById('downloadBtn');
            
            // Show loading
            loading.style.display = 'block';
            submitBtn.disabled = true;
            alertContainer.innerHTML = '';
            
            // Get form data
            const formData = new FormData(this);
            const data = Object.fromEntries(formData.entries());
            
            // Convert checkbox to boolean
            data.declaration = formData.has('declaration');
            
            // Convert numbers to proper format
            if (data.sscGPA) data.sscGPA = parseFloat(data.sscGPA);
            if (data.hscGPA) data.hscGPA = parseFloat(data.hscGPA);
            if (data.sscYear) data.sscYear = parseInt(data.sscYear);
            if (data.hscYear) data.hscYear = parseInt(data.hscYear);
            if (data.monthlyIncome) data.monthlyIncome = parseInt(data.monthlyIncome);
            
            console.log('Submitting data:', data);
            
            // Store data for PDF generation
            currentFormData = data;
            
            try {
                // Make actual API call
                const response = await fetch('/api/admissions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                console.log('Server response:', result);
                
                if (result.success) {
                    const applicationId = result.data.applicationId;
                    currentApplicationId = applicationId;
                    
                    // Show success message
                    alertContainer.innerHTML = `
                        <div class="alert alert-success">
                            <strong>Success!</strong> Your application has been submitted successfully. 
                            Application ID: <strong>${applicationId}</strong>
                            <br>Please keep this ID for future reference.
                            <br><br>Your application form will be downloaded as a PDF.
                        </div>
                    `;
                    
                    // Generate and download PDF
                    generatePDF(applicationId, data);
                    
                    // Show download button for manual download
                    downloadBtn.style.display = 'inline-block';
                    
                    // Reset form
                    this.reset();
                    
                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    
                } else {
                    throw new Error(result.message || 'Submission failed');
                }
                
            } catch (error) {
                console.error('Submission error:', error);
                alertContainer.innerHTML = `
                    <div class="alert alert-error">
                        <strong>Error!</strong> ${error.message}
                    </div>
                `;
                
                // Scroll to alert
                alertContainer.scrollIntoView({ behavior: 'smooth' });
            } finally {
                // Hide loading
                loading.style.display = 'none';
                submitBtn.disabled = false;
            }
        });

        // Manual download button
        document.getElementById('downloadBtn').addEventListener('click', function() {
            if (currentFormData && currentApplicationId) {
                generatePDF(currentApplicationId, currentFormData);
            }
        });
        
        // Form validation
        document.querySelectorAll('input[required], select[required]').forEach(input => {
            input.addEventListener('blur', function() {
                if (!this.value) {
                    this.style.borderColor = '#e74c3c';
                } else {
                    this.style.borderColor = '#27ae60';
                }
            });
        });
        
        // Real-time validation for GPA fields
        document.getElementById('sscGPA').addEventListener('input', function() {
            const value = parseFloat(this.value);
            if (value < 1.0 || value > 5.0) {
                this.style.borderColor = '#e74c3c';
            } else {
                this.style.borderColor = '#27ae60';
            }
        });
        
        document.getElementById('hscGPA').addEventListener('input', function() {
            const value = parseFloat(this.value);
            if (value < 1.0 || value > 5.0) {
                this.style.borderColor = '#e74c3c';
            } else {
                this.style.borderColor = '#27ae60';
            }
        });
    </script>
</body>
</html>